<app-breadcrumbs title="Create New Patient" [breadcrumbItems]="breadCrumbItems"></app-breadcrumbs>

<form [formGroup]="addFormGroup" (ngSubmit)="onSubmit()" class="container" autocomplete="off">
    <div class="card">
        <div class="card-body">
            <div class="row justify-content-center">
                <div class="col-lg-12 mb-3">
                    <label class="form-label" for="username">Username <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" id="username" formControlName="username" autocomplete="off"
                        placeholder="Enter username"
                        [ngClass]="{'is-invalid': submitted && addFormGroup.controls['username'].errors }">
                    <div class="invalid-feedback">
                        Username is required
                    </div>
                </div>
                <div class="col-lg-12 mb-3">
                    <label class="form-label" for="password">Password <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" id="password" formControlName="password" autocomplete="new-password"
                        placeholder="Enter password" maxlength="10" type="password"
                        [ngClass]="{'is-invalid': submitted && addFormGroup.controls['password'].errors }">
                    <div class="invalid-feedback">
                        Password is required
                    </div>
                </div>
            </div>
            <hr>
            <div class="row justify-content-center">
                <div class="col-lg-12 mb-3">
                    <label class="form-label" for="fullName">Full name <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" id="fullName" formControlName="fullName" autocomplete="off"
                        placeholder="Enter full name"
                        [ngClass]="{'is-invalid': submitted && addFormGroup.controls['fullName'].errors }">
                    <div class="invalid-feedback">
                        Full name is required
                    </div>
                </div>
                <div class="col-lg-12 mb-3">
                    <label class="form-label" for="nationalId">National
                        ID <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" id="nationalId" formControlName="nationalId"
                        autocomplete="off" placeholder="Enter national ID" maxlength="10"
                        [ngClass]="{'is-invalid': submitted && addFormGroup.controls['nationalId'].errors }">
                    <div class="invalid-feedback">
                        National ID is required
                    </div>
                </div>
                <div class="col-lg-12 mb-3">
                    <label class="form-label" for="email">Email <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" id="email" formControlName="email"
                        pattern="[a-z0-9._%+\-]+@[a-z0-9.\-]+\.[a-z]{2,}$" autocomplete="off" placeholder="Enter email"
                        [ngClass]="{'is-invalid': submitted && addFormGroup.controls['email'].errors }">
                    <div class="invalid-feedback" *ngIf="addFormGroup.controls['email'].errors?.['required']">
                        Email is required
                    </div>
                    <div class="invalid-feedback"
                        *ngIf="addFormGroup.controls['email'].errors?.['email'] || addFormGroup.controls['email'].errors?.['pattern']">
                        Email format is incorrect
                    </div>
                </div>
                <div class="col-lg-4 mb-3">
                    <label class="form-label" for="dateOfBirth">Date of
                        birth <span class="text-danger">*</span></label>
                    <input type="date" class="form-control" id="dateOfBirth" formControlName="dateOfBirth"
                        [ngClass]="{'is-invalid': submitted && addFormGroup.controls['dateOfBirth'].errors }">
                    <div class="invalid-feedback">
                        Date of birth is required
                    </div>
                </div>
                <div class="col-lg-4 mb-3">
                    <label class="form-label" for="gender">Gender <span class="text-danger">*</span></label>
                    <select class="form-select" formControlName="gender" id="Gender"
                        [ngClass]="{'is-invalid': submitted && addFormGroup.controls['gender'].errors }">
                        <option selected value="" hidden>Select gender</option>
                        <option value="0">Male</option>
                        <option value="1">Female</option>
                        <option value="2">Other</option>
                    </select>
                    <div class="invalid-feedback">
                        Gender is required
                    </div>
                </div>

                <div class="col-lg-4 mb-3">
                    <label class="form-label" for="phoneNumber">Phone number <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" id="phoneNumber" autocomplete="off"
                        formControlName="phoneNumber" placeholder="Enter phone number" maxlength="10"
                        [ngClass]="{'is-invalid': submitted && addFormGroup.controls['phoneNumber'].errors }">
                    <div class="invalid-feedback">
                        Phone number is required
                    </div>
                </div>
                <div class="col-lg-12 mb-3">
                    <label class="form-label" for="address">Address <span class="text-danger">*</span></label>
                    <textarea class="form-control" placeholder="Enter address" formControlName="address"
                        id="address" rows="2"
                        [ngClass]="{'is-invalid': submitted && addFormGroup.controls['address'].errors }"></textarea>
                    <div class="invalid-feedback">
                        Address is required
                    </div>
                </div>
            </div>
            <div class="d-flex gap-3">
                <button class="btn btn-light ms-auto" (click)="resetForm()" type="button">Reset</button>
                <button class="btn btn-success" type="submit">Submit</button>
            </div>
        </div>
    </div>
</form>

<app-toasts aria-live="polite" aria-atomic="true"></app-toasts>
<ngx-spinner type="ball-scale-multiple"></ngx-spinner>